<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="DictionaryMapper">

    <resultMap type="Dictionary" id="DictionaryMap">
        <id column="DIC_ID" property="dicId"/>
        <result column="ENTRY_CODE" property="entryCode"/>
        <result column="ENTRY_VALUE" property="entryValue"/>
        <result column="SUP_ID" property="supId"/>
        <result column="sequence" property="sequence"/>
        <result column="REMARK" property="remark"/>
    </resultMap>
    <!-- 表名 -->
    <sql id="tableName">
        T_DICTIONARY
    </sql>

    <!-- 字段 -->
    <sql id="field">
        DIC_ID , ENTRY_CODE , ENTRY_VALUE , SUP_ID , sequence , REMARK
    </sql>

    <!-- 字段值 -->
    <sql id="fieldValue">
        #{dicId}, #{entryCode}, #{entryValue}, #{supId},#{sequence}, #{remark}
    </sql>

    <!-- 获取明确字典列表 -->
    <select id="getDictoinaryInfo" parameterType="pd" resultType="pd">
        select <include refid="field"></include> from <include refid="tableName"></include>
        where 1=1
        <if test="entryCode!=null">
            and ENTRY_CODE = #{entryCode}
        </if>
        <if test="supId!=null">
            and SUP_ID = #{supId}
        </if>
    </select>

    <!-- 获取所有字典列表 -->
    <select id="selectDictionary" parameterType="pd" resultMap="DictionaryMap">
        select  DIC_ID , ENTRY_CODE , ENTRY_VALUE , SUP_ID , sequence , REMARK
        from  T_DICTIONARY
        where 1=1
    </select>


    <!-- 新增 -->
    <insert id="saveDictionaryvity" parameterType="Dictionary">
        insert into T_DICTIONARY( ENTRY_CODE , ENTRY_VALUE , SUP_ID , sequence , REMARK)
        values( #{entryCode}, #{entryValue}, #{supId},#{sequence}, #{remark})
    </insert>

    <!-- 获取总数 -->
    <select id="getDictionaryCount" parameterType="String" resultType="pd">
        SELECT
        count(1) dictionaryCount
        FROM
        <include refid="tableName"></include>
    </select>

</mapper>
